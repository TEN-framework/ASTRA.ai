// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/docker-existing-dockerfile
{
    "name": "astra",
    "image": "ghcr.io/rte-design/astra_agents_build",
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.cpptools-extension-pack",
                "xaver.clang-format",
                "doggy8088.go-extension-pack",
                "donjayamanne.python-extension-pack",
                "ms-python.autopep8"
            ],
            "settings": {
                "python.defaultInterpreterPath": "/usr/bin/python3",
                "[python]": {
                    "editor.defaultFormatter": "ms-python.autopep8",
                    "editor.formatOnSave": true
                },
                "autopep8.args": [
                    "--max-line-length=120",
                    "--ignore=E402"
                ]
            }
        }
    },
    "workspaceMount": "source=${localWorkspaceFolder},target=/app,type=bind",
    "workspaceFolder": "/app",
    // Use 'forwardPorts' to make a list of ports inside the container available locally.
    "forwardPorts": [
        8080
    ],
    // Features to add to the dev container. More info: https://containers.dev/features.
    "features": {
        "ghcr.io/devcontainers/features/git:1": {}
    },
    "postCreateCommand": {
        "install dependencies": "apt-get update && apt-get install -y clang-format",
        "install autopep8": "pip install autopep8"
    }
}